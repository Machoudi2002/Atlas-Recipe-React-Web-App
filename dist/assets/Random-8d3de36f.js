import{r as o,j as e}from"./index-0c3c94f9.js";import{R as S}from"./RecipeInfo-d96a3467.js";import{N as x}from"./Newsletter-38c925e4.js";const w=()=>{const[a,g]=o.useState(),[u,c]=o.useState("Add To Favorites"),[i,n]=o.useState([]),[f,l]=o.useState(!1),d=async()=>{l(!0);const s="https://www.themealdb.com/api/json/v1/1/random.php";try{const t=await fetch(s);if(!t.ok)throw new Error("Network response was not ok");const r=await t.json();g(r.meals[0])}catch(t){console.error("Error fetching data:",t)}finally{l(!1)}},p=s=>{const t=i.filter(r=>r!==s);n(t),localStorage.setItem("Favorites",JSON.stringify(t))},v=s=>{if(i.includes(s))p(s),c("Add To Favorites");else{const t=[...i,s];n(t),c("Remove From Favorites"),localStorage.setItem("Favorites",JSON.stringify(t))}},h=s=>{v(s)},j=()=>{d()};return localStorage.getItem("Favorites")||localStorage.setItem("Favorites",JSON.stringify([])),o.useEffect(()=>{d()},[]),o.useEffect(()=>{const s=JSON.parse(localStorage.getItem("Favorites"))||[];n(s)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container ",children:[e.jsx("div",{className:"text-center trigger-Random my-2",children:e.jsx("span",{onClick:j,children:"▶ Try Random Recipe ◀"})}),f?e.jsx("div",{className:"loader-random",children:e.jsxs("div",{className:"loader ",children:[e.jsx("li",{className:"ball"}),e.jsx("li",{className:"ball"}),e.jsx("li",{className:"ball"})]})}):a&&e.jsx(S,{Id:a.idMeal,Name:a.strMeal,Category:a.strCategory,ImageURL:a.strMealThumb,YoutubeLink:a.strYoutube,Instr:a.strInstructions,Ingri:e.jsx("ul",{children:Array.from({length:15},(s,t)=>{const r=a[`strMeasure${t+1}`],m=a[`strIngredient${t+1}`];return r&&m?e.jsxs("li",{children:[r," of ",m]},t):null})}),Action:()=>h(a.idMeal),ActionTitle:u})]}),e.jsx("div",{className:"newsletter-section",children:e.jsx(x,{})})]})};export{w as default};
